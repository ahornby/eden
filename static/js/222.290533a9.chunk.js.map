{"version":3,"file":"static/js/222.290533a9.chunk.js","mappings":"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","sources":["Footer.tsx","InlineCode.tsx","NetlifyLoginDialog.tsx","../../node_modules/netlify-auth-providers/lib/netlify.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {Box, Text} from '@primer/react';\nimport {useRecoilValue} from 'recoil';\nimport Link from 'reviewstack/src/Link';\nimport {primerColorMode} from 'reviewstack/src/themeState';\n\nconst logoLinkStyle = {\n  opacity: 0.5,\n  transition: 'opacity 200ms cubic-bezier(0.08,0.52,0.52,1)',\n  ':hover': {\n    opacity: 1.0,\n  },\n};\n\nexport default function Footer(): React.ReactElement {\n  const colorMode = useRecoilValue(primerColorMode);\n  const metaOpenSourceLogo =\n    colorMode === 'day' ? '/meta_opensource_logo.svg' : '/meta_opensource_logo_negative.svg';\n\n  const projectLinks = [\n    {\n      text: 'GitHub Repository',\n      href: 'https://github.com/facebook/sapling/tree/main/addons/reviewstack',\n    },\n    {\n      text: 'Sapling SCM',\n      href: 'https://sapling-scm.com',\n    },\n    {\n      text: 'Meta Open Source',\n      href: 'https://opensource.fb.com',\n    },\n  ];\n  const legalLinks = [\n    {text: 'Meta Open Source - Privacy Policy', href: 'https://opensource.fb.com/legal/privacy'},\n    {text: 'Meta Open Source - Terms of Use', href: 'https://opensource.fb.com/legal/terms'},\n    {\n      text: 'GitHub Privacy Statement',\n      href: 'https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement',\n    },\n    {\n      text: 'GitHub Terms of Service',\n      href: 'https://docs.github.com/en/site-policy/github-terms/github-terms-of-service',\n    },\n    {\n      text: 'Netlify Privacy Policy',\n      href: 'https://www.netlify.com/privacy/',\n    },\n  ];\n\n  return (\n    <Box\n      as=\"footer\"\n      backgroundColor=\"canvas.subtle\"\n      flex=\"0 0 auto\"\n      paddingTop={4}\n      bottom={0}\n      width=\"100%\">\n      <Box margin=\"auto\" width={800} paddingTop={2}>\n        <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n          <Box>\n            <LinkListHeader text=\"Project Links\" />\n            {projectLinks.map(props => (\n              <LinkCell key={props.href} {...props} />\n            ))}\n          </Box>\n          <Box>\n            <LinkListHeader text=\"Legal\" />\n            {legalLinks.map(props => (\n              <LinkCell key={props.href} {...props} />\n            ))}\n          </Box>\n        </Box>\n        <Box textAlign=\"center\">\n          <Text sx={logoLinkStyle}>\n            <a href=\"https://opensource.fb.com\" target=\"_blank\">\n              <img src={metaOpenSourceLogo} width=\"480px\" alt=\"Meta Open Source Logo\" />\n            </a>\n          </Text>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nfunction LinkListHeader({text}: {text: string}): React.ReactElement {\n  return (\n    <Box paddingBottom={1}>\n      <Text fontWeight=\"bold\">{text}</Text>\n    </Box>\n  );\n}\n\nfunction LinkCell({text, href}: {text: string; href: string}): React.ReactElement {\n  return (\n    <Box>\n      <Link href={href}>{text}</Link>\n    </Box>\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {Text} from '@primer/react';\n\n/**\n * There does not appear to be an official Primer equivalent to <code> in the\n * public API, but this appears to approximate what is used on github.com.\n */\nexport default function InlineCode({children}: {children: React.ReactNode}): React.ReactElement {\n  return (\n    <Text\n      bg=\"neutral.muted\"\n      sx={{borderRadius: '6px'}}\n      fontFamily=\"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace\"\n      fontSize=\"85%\"\n      padding=\"0.2em 0.4em\"\n      lineHeight=\"1.5\">\n      {children}\n    </Text>\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type {ChangeEvent, FormEvent} from 'react';\nimport type {CustomLoginDialogProps} from 'reviewstack/src/LoginDialog';\n\nimport Footer from './Footer';\nimport InlineCode from './InlineCode';\nimport {Box, Button, Heading, Text, TextInput} from '@primer/react';\nimport Authenticator from 'netlify-auth-providers';\nimport React, {useCallback, useState} from 'react';\nimport AppHeader from 'reviewstack/src/AppHeader';\nimport Link from 'reviewstack/src/Link';\n\n/**\n * See https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps\n */\nconst GITHUB_OAUTH_SCOPE = ['user', 'repo'].join(' ');\n\nexport default function NetlifyLoginDialog(props: CustomLoginDialogProps): React.ReactElement {\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" height=\"100vh\">\n      <Box flex=\"0 0 auto\">\n        <AppHeader orgAndRepo={null} />\n      </Box>\n      <Box flex=\"1 1 auto\" overflowY=\"auto\">\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          paddingX={3}\n          paddingY={2}>\n          <Box minWidth={600} maxWidth={800}>\n            <EndUserInstructions {...props} />\n          </Box>\n          <Box>\n            <img src=\"/reviewstack-demo.gif\" width={800} />\n            <Box textAlign=\"center\" width={800}>\n              <Text fontStyle=\"italic\" fontSize={1}>\n                ReviewStack makes it possible to view code and the timeline side-by-side\n                <br />\n                in addition to facilitating navigation up and down the stack.\n              </Text>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n      <Footer />\n    </Box>\n  );\n}\n\nfunction EndUserInstructions(props: CustomLoginDialogProps): React.ReactElement {\n  const {setTokenAndHostname} = props;\n  const [isButtonDisabled, setButtonDisabled] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const onClick = useCallback(async () => {\n    setButtonDisabled(true);\n    try {\n      const token = await fetchGitHubToken();\n      setTokenAndHostname(token, 'github.com');\n    } catch (e) {\n      const message = e instanceof Error ? e.message : 'error fetching OAuth token';\n      setErrorMessage(message);\n    }\n    setButtonDisabled(false);\n  }, [setButtonDisabled, setErrorMessage, setTokenAndHostname]);\n\n  return (\n    <Box>\n      <Heading>Welcome to ReviewStack</Heading>\n      <Box>\n        <Text as=\"p\" pb={2}>\n          <Link href=\"https://sapling-scm.com/docs/addons/reviewstack\">ReviewStack</Link> is a novel\n          user interface for GitHub pull requests with custom support for{' '}\n          <Text fontStyle=\"italic\">stacked changes</Text>. For tools like{' '}\n          <Link href=\"http://sapling-scm.com/\">Sapling</Link> or{' '}\n          <Link href=\"https://github.com/ezyang/ghstack\">ghstack</Link> that create separate pull\n          requests for independent commits in a stack, ReviewStack facilitates navigating the stack\n          and ensuring that only the code that was meant to be considered for review is displayed\n          for each pull request.\n        </Text>\n        <Text as=\"p\">\n          ReviewStack (reviewstack.dev) is owned and operated by Meta Platforms, Inc. Note that{' '}\n          <Link href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/authorizing-oauth-apps\">\n            you must authorize ReviewStack to access your GitHub data\n          </Link>{' '}\n          in order to use ReviewStack. Once authorized, ReviewStack will store your GitHub access\n          token, and other data fetched from GitHub, locally in the browser. Clicking{' '}\n          <Text fontWeight=\"bold\">Logout</Text> will remove the data that is stored locally, but it\n          will not delete your data from GitHub.\n        </Text>\n      </Box>\n      {errorMessage != null ? (\n        <Box pb={2}>\n          <Text color=\"danger.fg\">{errorMessage}</Text>\n        </Box>\n      ) : null}\n\n      <H3>github.com Users</H3>\n      <Box pb={4}>\n        To view code hosted on github.com using ReviewStack, you can use the OAuth flow below to\n        authenticate with GitHub:\n      </Box>\n      <Box pb={4}>\n        <Button onClick={onClick} disabled={isButtonDisabled}>\n          Use OAuth to Authorize ReviewStack to access GitHub\n        </Button>\n      </Box>\n\n      <H3>GitHub Enterprise Users</H3>\n      <Box pb={4}>\n        To use ReviewStack to view code on your <Text fontWeight=\"bold\">GitHub Enterprise</Text>{' '}\n        account, you must specify the hostname along with a{' '}\n        <Link href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\">\n          Personal Access Token (PAT)\n        </Link>{' '}\n        for the account. If you have authenticated with the{' '}\n        <Link href=\"https://cli.github.com/\">GitHub CLI</Link>, you can use{' '}\n        <InlineCode>gh auth status --show-token --hostname HOSTNAME</InlineCode> to use your\n        existing token, though note the PAT for <InlineCode>gh</InlineCode> may have access to a\n        broader set of{' '}\n        <Link href=\"https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps\">\n          scopes\n        </Link>{' '}\n        than you may be willing to grant to a third-party tool.\n      </Box>\n      <EnterpriseForm {...props} />\n\n      <H3>Building From Source</H3>\n      <Box>\n        Finally, if you want to run your own instance of ReviewStack,{' '}\n        <Link href=\"https://github.com/facebook/sapling/tree/main/addons/reviewstack\">\n          the source code is available on GitHub\n        </Link>\n        . For example, you may want to deploy your own instance of ReviewStack that is hardcoded to\n        work with your GitHub Enterprise instance combined with an in-house SSO login flow. The\n        codebase is designed so that the ReviewStack UI can be used as a reusable React component\n        with minimal dependencies on the host environment.\n      </Box>\n    </Box>\n  );\n}\n\nfunction EnterpriseForm({setTokenAndHostname}: CustomLoginDialogProps): React.ReactElement {\n  const [hostname, setHostname] = useState('github.com');\n  const [token, setToken] = useState('');\n\n  const onChangeHostname = useCallback(\n    (e: ChangeEvent) => setHostname((e.target as HTMLInputElement).value),\n    [],\n  );\n  const onChangeToken = useCallback(\n    (e: ChangeEvent) => setToken((e.target as HTMLInputElement).value),\n    [],\n  );\n  const onSubmit = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n      setTokenAndHostname(token.trim(), hostname.trim());\n      return false;\n    },\n    [token, hostname, setTokenAndHostname],\n  );\n\n  // FIXME: mention `gh auth status`\n  const isInputValid = isGitHubEnterpriseInputValid(token, hostname);\n  return (\n    <Box>\n      <form onSubmit={onSubmit}>\n        <Box pb={2}>\n          GitHub Enterprise Hostname: <br />\n          <TextInput\n            value={hostname}\n            onChange={onChangeHostname}\n            sx={{width: '400px'}}\n            monospace\n            aria-label=\"hostname\"\n            placeholder=\"github.com\"\n          />\n        </Box>\n        <Box>\n          Personal Access Token: <br />\n          <TextInput\n            value={token}\n            onChange={onChangeToken}\n            type=\"password\"\n            sx={{width: '400px'}}\n            monospace\n            aria-label=\"personal access token\"\n            placeholder=\"github_pat_abcdefg123456789\"\n          />\n        </Box>\n        <Box paddingY={4}>\n          <Button disabled={!isInputValid} type=\"submit\">\n            Use your GitHub Enterprise account with ReviewStack\n          </Button>\n        </Box>\n      </form>\n    </Box>\n  );\n}\n\nfunction isGitHubEnterpriseInputValid(token: string, hostname: string): boolean {\n  if (token.trim() === '') {\n    return false;\n  }\n\n  const normalizedHostname = hostname.trim();\n  return normalizedHostname !== '' && normalizedHostname.indexOf('.') !== -1;\n}\n\nfunction H3({children}: {children: React.ReactNode}): React.ReactElement {\n  return (\n    <Heading as=\"h3\" sx={{fontSize: 3, mb: 2}}>\n      {children}\n    </Heading>\n  );\n}\n\nfunction fetchGitHubToken(): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const authenticator = new Authenticator({});\n    authenticator.authenticate(\n      {provider: 'github', scope: GITHUB_OAUTH_SCOPE},\n      (error: Error | null, data: {token: string} | null) => {\n        if (error) {\n          reject(error);\n        } else {\n          const token = data?.token;\n          if (typeof token === 'string') {\n            resolve(token);\n          } else {\n            reject(new Error('token missing in OAuth response'));\n          }\n        }\n      },\n    );\n  });\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.netlify = mod.exports;\n  }\n})(this, function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var NETLIFY_API = \"https://api.netlify.com\";\n\n  var NetlifyError = function () {\n    function NetlifyError(err) {\n      _classCallCheck(this, NetlifyError);\n\n      this.err = err;\n    }\n\n    _createClass(NetlifyError, [{\n      key: \"toString\",\n      value: function toString() {\n        return this.err && this.err.message;\n      }\n    }]);\n\n    return NetlifyError;\n  }();\n\n  var PROVIDERS = {\n    github: {\n      width: 960,\n      height: 600\n    },\n    gitlab: {\n      width: 960,\n      height: 600\n    },\n    bitbucket: {\n      width: 960,\n      height: 500\n    },\n    email: {\n      width: 500,\n      height: 400\n    }\n  };\n\n  var Authenticator = function () {\n    function Authenticator(config) {\n      _classCallCheck(this, Authenticator);\n\n      this.site_id = config.site_id;\n      this.base_url = config.base_url || NETLIFY_API;\n    }\n\n    _createClass(Authenticator, [{\n      key: \"handshakeCallback\",\n      value: function handshakeCallback(options, cb) {\n        var _this = this;\n\n        var fn = function fn(e) {\n          if (e.data === \"authorizing:\" + options.provider && e.origin === _this.base_url) {\n            window.removeEventListener(\"message\", fn, false);\n            window.addEventListener(\"message\", _this.authorizeCallback(options, cb), false);\n            return _this.authWindow.postMessage(e.data, e.origin);\n          }\n        };\n        return fn;\n      }\n    }, {\n      key: \"authorizeCallback\",\n      value: function authorizeCallback(options, cb) {\n        var _this2 = this;\n\n        var fn = function fn(e) {\n          var data, err;\n          if (e.origin !== _this2.base_url) {\n            return;\n          }\n          if (e.data.indexOf(\"authorization:\" + options.provider + \":success:\") === 0) {\n            data = JSON.parse(e.data.match(new RegExp(\"^authorization:\" + options.provider + \":success:(.+)$\"))[1]);\n            window.removeEventListener(\"message\", fn, false);\n            _this2.authWindow.close();\n            cb(null, data);\n          }\n          if (e.data.indexOf(\"authorization:\" + options.provider + \":error:\") === 0) {\n            err = JSON.parse(e.data.match(new RegExp(\"^authorization:\" + options.provider + \":error:(.+)$\"))[1]);\n            window.removeEventListener(\"message\", fn, false);\n            _this2.authWindow.close();\n            cb(new NetlifyError(err));\n          }\n        };\n        return fn;\n      }\n    }, {\n      key: \"getSiteID\",\n      value: function getSiteID() {\n        if (this.site_id) {\n          return this.site_id;\n        }\n        var host = document.location.host.split(\":\")[0];\n        return host === \"localhost\" ? null : host;\n      }\n    }, {\n      key: \"authenticate\",\n      value: function authenticate(options, cb) {\n        var left,\n            top,\n            url,\n            siteID = this.getSiteID(),\n            provider = options.provider;\n        if (!provider) {\n          return cb(new NetlifyError({\n            message: \"You must specify a provider when calling netlify.authenticate\"\n          }));\n        }\n        if (!siteID) {\n          return cb(new NetlifyError({\n            message: \"You must set a site_id with netlify.configure({site_id: \\\"your-site-id\\\"}) to make authentication work from localhost\"\n          }));\n        }\n\n        var conf = PROVIDERS[provider] || PROVIDERS.github;\n        left = screen.width / 2 - conf.width / 2;\n        top = screen.height / 2 - conf.height / 2;\n        window.addEventListener(\"message\", this.handshakeCallback(options, cb), false);\n        url = this.base_url + \"/auth?provider=\" + options.provider + \"&site_id=\" + siteID;\n        if (options.scope) {\n          url += \"&scope=\" + options.scope;\n        }\n        if (options.login === true) {\n          url += \"&login=true\";\n        }\n        if (options.beta_invite) {\n          url += \"&beta_invite=\" + options.beta_invite;\n        }\n        if (options.invite_code) {\n          url += \"&invite_code=\" + options.invite_code;\n        }\n        this.authWindow = window.open(url, \"Netlify Authorization\", \"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, \" + (\"width=\" + conf.width + \", height=\" + conf.height + \", top=\" + top + \", left=\" + left + \");\"));\n        this.authWindow.focus();\n      }\n    }]);\n\n    return Authenticator;\n  }();\n\n  exports.default = Authenticator;\n});"],"names":["logoLinkStyle","opacity","transition","Footer","metaOpenSourceLogo","useRecoilValue","primerColorMode","_jsx","Box","as","backgroundColor","flex","paddingTop","bottom","width","children","_jsxs","margin","display","flexDirection","justifyContent","LinkListHeader","text","href","map","props","LinkCell","textAlign","Text","sx","target","src","alt","paddingBottom","fontWeight","Link","InlineCode","bg","borderRadius","fontFamily","fontSize","padding","lineHeight","GITHUB_OAUTH_SCOPE","join","NetlifyLoginDialog","height","AppHeader","orgAndRepo","overflowY","paddingX","paddingY","minWidth","maxWidth","EndUserInstructions","fontStyle","setTokenAndHostname","isButtonDisabled","setButtonDisabled","useState","errorMessage","setErrorMessage","onClick","useCallback","async","token","Promise","resolve","reject","Authenticator","authenticate","provider","scope","error","data","Error","e","message","Heading","pb","color","H3","Button","disabled","EnterpriseForm","hostname","setHostname","setToken","onChangeHostname","value","onChangeToken","onSubmit","preventDefault","trim","isInputValid","normalizedHostname","indexOf","isGitHubEnterpriseInputValid","TextInput","onChange","monospace","placeholder","type","mb","define","exports","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","_createClass","defineProperties","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","NETLIFY_API","NetlifyError","err","this","PROVIDERS","github","gitlab","bitbucket","email","config","site_id","base_url","options","cb","_this","fn","origin","window","removeEventListener","addEventListener","authorizeCallback","authWindow","postMessage","_this2","JSON","parse","match","RegExp","close","host","document","location","split","left","top","url","siteID","getSiteID","conf","screen","handshakeCallback","login","beta_invite","invite_code","open","focus","default"],"sourceRoot":""}